<%- include('partials/header') %>

<main class="signup-page">
    <h1>Skráning</h1>
    
    <% if (errors.server) { %>
      <div class="error-message server-error">
        <%= errors.server %>
      </div>
    <% } %>
    
    <% if (Object.keys(errors).length > 0) { %>
      <div class="error-message">
        Vinsamlegast leiðréttu villurnar hér fyrir neðan.
      </div>
    <% } %>
    
    <form action="/signup" method="POST" class="signup-form">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <div class="form-group">
            <label for="username">Notandanafn:</label>
            <input type="text" id="username" name="username" 
                   value="<%= formData.username ? formData.username : '' %>" required>
            <% if (errors.username) { %>
              <p class="field-error"><%= errors.username %></p>
            <% } %>
        </div>
        
        <div class="form-group">
            <label for="email">Netfang:</label>
            <input type="email" id="email" name="email" 
                   value="<%= formData.email ? formData.email : '' %>" required>
            <% if (errors.email) { %>
              <p class="field-error"><%= errors.email %></p>
            <% } %>
        </div>
        
        <div class="form-group">
            <label for="password">Lykilorð:</label>
            <input type="password" id="password" name="password" required>
            
            <!-- Password requirements info -->
            <div class="password-requirements">
                <p>Lykilorðið þarf að uppfylla eftirfarandi skilyrði:</p>
                <ul>
                    <li>Að minnsta kosti 8 stafir</li>
                    <li>Að minnsta kosti einn hástafur</li>
                    <li>Að minnsta kosti einn lágstafur</li>
                    <li>Að minnsta kosti ein tala</li>
                </ul>
            </div>
            
            <% if (errors.password) { %>
              <p class="field-error"><%= errors.password %></p>
            <% } %>
        </div>
        
        <div class="form-group">
            <label for="confirmPassword">Staðfesta Lykilorð:</label>
            <input type="password" id="confirmPassword" name="confirmPassword" required>
            <% if (errors.confirmPassword) { %>
              <p class="field-error"><%= errors.confirmPassword %></p>
            <% } %>
        </div>
        
        <button type="submit" class="submit-button">Skrá mig</button>
    </form>
</main>

<%- include('partials/footer') %>
