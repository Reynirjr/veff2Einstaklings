<%- include('partials/header') %>

<main>
  <h1>H칩par</h1>
  
  <div class="actions">
    <a href="/groups/create" class="button">B칰a til n칳jan h칩p</a>
  </div>
  
  <% if (groups && groups.length > 0) { %>
    <div class="groups-grid">
      <% groups.forEach(group => { %>
        <div class="card group-card <%= group.passwordHash ? 'private' : '' %>">
          <% if (group.passwordHash) { %>
            <div class="private-badge">游 L칝stur h칩pur</div>
          <% } %>
          <h2 class="card-title"><%= group.name %></h2>
          <div class="card-content">
            <p class="description"><%= group.description %></p>
            
            <div class="group-meta">
              <p><strong>룐ma:</strong> <%= group.theme || 'Ekkert 쬰ma' %></p>
              <p><strong>Kosningar:</strong> <%= group.votingDay.charAt(0).toUpperCase() + group.votingDay.slice(1) %>, 
                <%= group.votingOpenTime.slice(0, 5) %> - <%= group.votingCloseTime.slice(0, 5) %></p>
              <p><% if (group.passwordHash) { %><span class="badge private">L칝stur</span><% } else { %><span class="badge public">Opinn</span><% } %></p>
            </div>
          </div>
          
          <div class="card-actions">
            <a href="/groups/<%= group.id %>" class="button full-width">
              <%= group.passwordHash && !group.isMember ? 'Bi칧ja um a칧gang' : 'Sko칧a n치nar' %>
            </a>
          </div>
        </div>
      <% }); %>
    </div>
  <% } else { %>
    <p class="no-groups">Engir h칩par fundust. <a href="/groups/create">B칰칧u til 쬴nn fyrsta h칩p!</a>!</p>
  <% } %>
</main>

<%- include('partials/footer') %>